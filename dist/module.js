import e from"js-sha3";import{arrayify as i,hexlify as a,concat as n}from"@ethersproject/bytes";import{jsxs as o,jsx as t}from"react/jsx-runtime";import{render as r}from"react-dom";import{useState as d,useEffect as s}from"react";function c(o){const t=[i(o)],r=a(n(t));return"0x"+e.keccak_256(i(r))}function l(e){const i=Buffer.isBuffer(e)?e:Buffer.from(e),a=BigInt(c(i))>>BigInt(8),n=a.toString(16);return{hash:a,digest:`0x${n.padStart(64,"0")}`}}const h=(e,i)=>Math.floor(Math.random()*(i-e+1)+e),u=e=>!!e.toString().match(/^0x[\dabcdef]+$/)&&e.length>=66;function _(e){const[i,a]=d(e.name);return s((()=>{a(e.name)}),[e]),o("div",{children:["Hey ",i,", say hello to TypeScript."]})}const f=()=>t("div",{children:"I am React Widget"}),g={buildVerificationRequest:e=>{if(!e.signal)throw new Error("Unexpectedly trying to build verification request without a `signal`.");const i={signal:e.advanced_use_raw_signal?e.signal:l(e.signal).digest,action_id:e.advanced_use_raw_action_id?e.action_id:l(e.action_id).digest};return e.app_name&&(i.app_name=e.app_name),e.signal_description&&(i.signal_description=e.signal_description),{id:h(1e5,9999999),jsonrpc:"2.0",method:"wld_worldIDVerification",params:[i]}},hashBytes:l,keccak256:c,randomNumber:h,validateABILikeEncoding:u,validateInputParams:e=>e.action_id?e.advanced_use_raw_action_id&&!u(e.action_id)?{valid:!1,error:"You enabled 'advanced_use_raw_action_id' which uses the action ID raw (without any additional hashing or encoding),\n        but the action ID you provided does not look to be validly hashed or encoded. Please check\n        https://id.worldcoin.org/docs/js/reference#parameters for details."}:e.advanced_use_raw_signal&&e.signal&&!u(e.signal)?{valid:!1,error:"You enabled 'advanced_use_raw_signal' which uses the signal raw (without any additional hashing or encoding),\n        but the signal you provided does not look to be validly hashed or encoded. Please check\n        https://id.worldcoin.org/docs/js/reference#parameters for details."}:{valid:!0}:{valid:!1,error:"The `action_id` parameter is always required."},verifyVerificationResponse:e=>{const i="merkle_root"in e?e.merkle_root:void 0,a="nullifier_hash"in e?e.nullifier_hash:void 0,n="proof"in e?e.proof:void 0;for(const e of[i,a,n])if(!e||!u(e))return!1;return!0}};var p={init:e=>{let i=null;"string"!=typeof e&&(i=e),"string"==typeof e&&(i=document.getElementById(e)),null!==i&&r(t(f,{}),i)}};export{f as ReactWidget,_ as SayHello,p as default,g as utils};
//# sourceMappingURL=module.js.map
